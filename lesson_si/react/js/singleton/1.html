<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>设计模式之单列模式</title>
</head>
<body>
    <script>
        // storage 本地存储类
        // 单例模式 getInstance 静态方法
        // func getItem(key) 获取本地存储的值
        // func setItem(ke,value) 设置本地存储的值
        // 函数 + prototype  完成类 原型式的
        // js 的原型式的 灵活,优雅
        // 面对对象都不用学
        // JAVA ,c++ 不能理解
        // es6 为了拥抱更多开发者 企业级大型项目开发
        // 如何让class只实例化一次
        // 全局变量
        class Storage{
            constructor(){
            console.log(this,'....');
            }
            // 静态方法
            static getInstance(){
                // 返回一个实列
                // 如果实例化过 返回之前的
                // 第一次 实例化
                // 静态属性
                // es6 class 语法糖
                // Storage 对象 instance
                if(!Storage.instance){
                    Storage.instance = new Storage
                }
                return Storage.instance
            }
            getItem(key){
                return localStorage.getItem(key);
            }
            setItem(key,value){
                
            }

        }
        // 单列 性能好
        // new干掉 拿到对象的实列
        // 静态方法 属于类的方法
        // public private 属于实列化的方法
        const storage2 = new Storage.getInstance();
        const storage1 = new Storage.getInstance();
        // 引用
        // es6 class语法糖 构建类 本质还是原型式的
        // true
        console.log(storage1 === storage2,'////');
        storage1.setItem('name','cyc');
        console.log(storage1.getItem('name'));
        console.log(storage2.getItem('name'));
    </script>
</body>
</html>